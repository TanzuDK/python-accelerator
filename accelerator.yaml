accelerator:
  displayName: python-accelerator
  description: Python Accelerator
  iconUrl: https://raw.githubusercontent.com/TanzuDK/python-accelerator/main/images/python.png
  tags:
  - python

  options:
  - name: deploymentType
    inputType: select
    choices:
    - value: workload
      text: TAP workload
    - value: k8s-simple
      text: Kubernetes deployment and service
    defaultValue: workload
    required: true

engine:
  merge:
    - include: [ "**" ]
    - include: [ "kubernetes/tap/workload.yaml" ]
      condition: "#deploymentType == 'workload'"
      chain:
      - type: ReplaceText
        substitutions:
        - text: ": python-deployment"
          with: "': ' + #artifactId.toLowerCase()"